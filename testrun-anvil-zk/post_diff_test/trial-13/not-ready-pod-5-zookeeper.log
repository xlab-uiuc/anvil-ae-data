+ source /conf/env.sh
++ DOMAIN=test-cluster-headless.zookeeper.svc.cluster.local
++ QUORUM_PORT=2888
++ LEADER_PORT=3888
++ CLIENT_HOST=test-cluster-client
++ CLIENT_PORT=2181
++ ADMIN_SERVER_HOST=test-cluster-admin-server
++ ADMIN_SERVER_PORT=8080
++ CLUSTER_NAME=test-cluster
+ source /usr/local/bin/zookeeperFunctions.sh
++ set -ex
++ hostname -s
+ HOST=test-cluster-2
+ DATA_DIR=/data
+ MYID_FILE=/data/myid
+ LOG4J_CONF=/conf/log4j-quiet.properties
+ DYNCONFIG=/data/zoo.cfg.dynamic
+ STATIC_CONFIG=/data/conf/zoo.cfg
+ [[ test-cluster-2 =~ (.*)-([0-9]+)$ ]]
+ NAME=test-cluster
+ ORD=2
+ MYID=3
+ WRITE_CONFIGURATION=true
+ REGISTER_NODE=true
+ ONDISK_MYID_CONFIG=false
+ ONDISK_DYN_CONFIG=false
+ '[' -f /data/myid ']'
+ '[' -f /data/zoo.cfg.dynamic ']'
+ set +e
+ [[ -n '' ]]
+ set -e
+ set +e
+ getent hosts test-cluster-headless.zookeeper.svc.cluster.local
10.244.3.3      test-cluster-headless.zookeeper.svc.cluster.local
10.244.1.4      test-cluster-headless.zookeeper.svc.cluster.local
+ [[ 0 -eq 0 ]]
+ ACTIVE_ENSEMBLE=true
+ [[ false == true ]]
+ WRITE_CONFIGURATION=true
+ [[ true == false ]]
+ [[ false == false ]]
+ REGISTER_NODE=true
+ [[ true == true ]]
+ echo 'Writing myid: 3 to: /data/myid.'
+ echo 3
Writing myid: 3 to: /data/myid.
+ [[ 3 -eq 1 ]]
+ [[ true == true ]]
+ ROLE=observer
++ zkConnectionString
++ set +e
++ getent hosts test-cluster-client
++ [[ 0 -ne 0 ]]
++ set -e
++ echo test-cluster-client:2181
+ ZKURL=test-cluster-client:2181
++ zkConfig
++ echo 'test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local:2888:3888:observer;2181'
+ ZKCONFIG='test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local:2888:3888:observer;2181'
+ set -e
+ echo Registering node and writing local configuration to disk.
Registering node and writing local configuration to disk.
+ java -Dlog4j.configuration=file:/conf/log4j-quiet.properties -jar /opt/libs/zu.jar add test-cluster-client:2181 3 'test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local:2888:3888:observer;2181' /data/zoo.cfg.dynamic
Connecting to Zookeeper test-cluster-client:2181
+ set +e
+ ZOOCFGDIR=/data/conf
+ export ZOOCFGDIR
+ echo Copying /conf contents to writable directory, to support Zookeeper dynamic reconfiguration
Copying /conf contents to writable directory, to support Zookeeper dynamic reconfiguration
+ [[ ! -d /data/conf ]]
+ mkdir /data/conf
+ cp -f /conf/zoo.cfg /data/conf
+ cp -f /conf/log4j.properties /data/conf
+ cp -f /conf/log4j-quiet.properties /data/conf
+ cp -f /conf/env.sh /data/conf
+ '[' -f /data/zoo.cfg.dynamic ']'
+ echo Starting zookeeper service
+ zkServer.sh --config /data/conf start-foreground
Starting zookeeper service
ZooKeeper JMX enabled by default
Using config: /data/conf/zoo.cfg
2023-11-02 16:08:53,392 [myid:] - INFO  [main:QuorumPeerConfig@174] - Reading configuration from: /data/conf/zoo.cfg
2023-11-02 16:08:53,395 [myid:] - INFO  [main:QuorumPeerConfig@435] - clientPort is not set
2023-11-02 16:08:53,395 [myid:] - INFO  [main:QuorumPeerConfig@448] - secureClientPort is not set
2023-11-02 16:08:53,395 [myid:] - INFO  [main:QuorumPeerConfig@464] - observerMasterPort is not set
2023-11-02 16:08:53,397 [myid:] - INFO  [main:QuorumPeerConfig@481] - metricsProvider.className is org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider
2023-11-02 16:08:53,404 [myid:] - WARN  [main:QuorumPeerConfig@713] - No server failure will be tolerated. You need at least 3 servers.
2023-11-02 16:08:53,405 [myid:3] - WARN  [main:QuorumPeerConfig@778] - Peer type from servers list (OBSERVER) doesn't match peerType (PARTICIPANT). Defaulting to servers list.
2023-11-02 16:08:53,406 [myid:3] - INFO  [main:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2023-11-02 16:08:53,406 [myid:3] - INFO  [main:DatadirCleanupManager@79] - autopurge.purgeInterval set to 1
2023-11-02 16:08:53,408 [myid:3] - INFO  [PurgeTask:DatadirCleanupManager$PurgeTask@139] - Purge task started.
2023-11-02 16:08:53,410 [myid:3] - INFO  [main:ManagedUtil@44] - Log4j 1.2 jmx support found and enabled.
2023-11-02 16:08:53,417 [myid:3] - INFO  [main:QuorumPeerMain@152] - Starting quorum peer, myid=3
2023-11-02 16:08:53,419 [myid:3] - INFO  [PurgeTask:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2023-11-02 16:08:53,424 [myid:3] - INFO  [PurgeTask:DatadirCleanupManager$PurgeTask@145] - Purge task completed.
2023-11-02 16:08:53,430 [myid:3] - INFO  [main:PrometheusMetricsProvider@74] - Initializing metrics, configuration: {exportJvmInfo=true, httpPort=7000}
2023-11-02 16:08:53,430 [myid:3] - INFO  [main:PrometheusMetricsProvider@82] - Starting /metrics HTTP endpoint at port 7000 exportJvmInfo: true
2023-11-02 16:08:53,463 [myid:3] - INFO  [main:Log@169] - Logging initialized @505ms to org.eclipse.jetty.util.log.Slf4jLog
2023-11-02 16:08:53,521 [myid:3] - INFO  [main:Server@375] - jetty-9.4.38.v20210224; built: 2021-02-24T20:25:07.675Z; git: 288f3cc74549e8a913bf363250b0744f2695b8e6; jvm 11.0.15+10
2023-11-02 16:08:53,548 [myid:3] - INFO  [main:ContextHandler@916] - Started o.e.j.s.ServletContextHandler@6e509ffa{/,null,AVAILABLE}
2023-11-02 16:08:53,560 [myid:3] - INFO  [main:AbstractConnector@331] - Started ServerConnector@36bc55de{HTTP/1.1, (http/1.1)}{0.0.0.0:7000}
2023-11-02 16:08:53,561 [myid:3] - INFO  [main:Server@415] - Started @605ms
2023-11-02 16:08:53,568 [myid:3] - INFO  [main:ServerMetrics@62] - ServerMetrics initialized with provider org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider@1eb5174b
2023-11-02 16:08:53,581 [myid:3] - INFO  [main:DigestAuthenticationProvider@47] - ACL digest algorithm is: SHA1
2023-11-02 16:08:53,581 [myid:3] - INFO  [main:DigestAuthenticationProvider@61] - zookeeper.DigestAuthenticationProvider.enabled = true
2023-11-02 16:08:53,585 [myid:3] - INFO  [main:ServerCnxnFactory@169] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2023-11-02 16:08:53,586 [myid:3] - WARN  [main:ServerCnxnFactory@309] - maxCnxns is not configured, using default value 0.
2023-11-02 16:08:53,587 [myid:3] - INFO  [main:NIOServerCnxnFactory@652] - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 2 worker threads, and 64 kB direct buffers.
2023-11-02 16:08:53,588 [myid:3] - INFO  [main:NIOServerCnxnFactory@660] - binding to port /0.0.0.0:2181
2023-11-02 16:08:53,593 [myid:3] - INFO  [main:QuorumPeer@796] - zookeeper.quorumCnxnTimeoutMs=-1
2023-11-02 16:08:53,599 [myid:3] - WARN  [main:ContextHandler@1660] - o.e.j.s.ServletContextHandler@e350b40{/,null,STOPPED} contextPath ends with /*
2023-11-02 16:08:53,600 [myid:3] - WARN  [main:ContextHandler@1671] - Empty contextPath
2023-11-02 16:08:53,607 [myid:3] - INFO  [main:X509Util@77] - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:QuorumPeer@1739] - Local sessions disabled
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:QuorumPeer@1750] - Local session upgrading disabled
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:QuorumPeer@1717] - tickTime set to 2000
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:QuorumPeer@1761] - minSessionTimeout set to 4000
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:QuorumPeer@1772] - maxSessionTimeout set to 40000
2023-11-02 16:08:53,608 [myid:3] - INFO  [main:QuorumPeer@1797] - initLimit set to 10
2023-11-02 16:08:53,609 [myid:3] - INFO  [main:QuorumPeer@1984] - syncLimit set to 2
2023-11-02 16:08:53,609 [myid:3] - INFO  [main:QuorumPeer@1999] - connectToLearnerMasterLimit set to 0
2023-11-02 16:08:53,617 [myid:3] - INFO  [main:ZookeeperBanner@42] - 
2023-11-02 16:08:53,617 [myid:3] - INFO  [main:ZookeeperBanner@42] -   ______                  _                                          
2023-11-02 16:08:53,617 [myid:3] - INFO  [main:ZookeeperBanner@42] -  |___  /                 | |                                         
2023-11-02 16:08:53,617 [myid:3] - INFO  [main:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __   
2023-11-02 16:08:53,617 [myid:3] - INFO  [main:ZookeeperBanner@42] -    / /    / _ \   / _ \  | |/ /  / _ \  / _ \ | '_ \   / _ \ | '__|
2023-11-02 16:08:53,618 [myid:3] - INFO  [main:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   <  |  __/ |  __/ | |_) | |  __/ | |    
2023-11-02 16:08:53,618 [myid:3] - INFO  [main:ZookeeperBanner@42] -  /_____|  \___/   \___/  |_|\_\  \___|  \___| | .__/   \___| |_|
2023-11-02 16:08:53,618 [myid:3] - INFO  [main:ZookeeperBanner@42] -                                               | |                     
2023-11-02 16:08:53,618 [myid:3] - INFO  [main:ZookeeperBanner@42] -                                               |_|                     
2023-11-02 16:08:53,618 [myid:3] - INFO  [main:ZookeeperBanner@42] - 
2023-11-02 16:08:53,619 [myid:3] - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.7.0-e3704b390a6697bfdf4b0bef79e3da7a4f6bac4b, built on 2021-03-17 09:46 UTC
2023-11-02 16:08:53,619 [myid:3] - INFO  [main:Environment@98] - Server environment:host.name=test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local
2023-11-02 16:08:53,619 [myid:3] - INFO  [main:Environment@98] - Server environment:java.version=11.0.15
2023-11-02 16:08:53,619 [myid:3] - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2023-11-02 16:08:53,620 [myid:3] - INFO  [main:Environment@98] - Server environment:java.home=/usr/local/openjdk-11
2023-11-02 16:08:53,620 [myid:3] - INFO  [main:Environment@98] - Server environment:java.class.path=/apache-zookeeper-3.7.0-bin/bin/../zookeeper-server/target/classes:/apache-zookeeper-3.7.0-bin/bin/../build/classes:/apache-zookeeper-3.7.0-bin/bin/../zookeeper-server/target/lib/*.jar:/apache-zookeeper-3.7.0-bin/bin/../build/lib/*.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/zookeeper-prometheus-metrics-3.7.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/zookeeper-jute-3.7.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/zookeeper-3.7.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/snappy-java-1.1.7.7.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/slf4j-log4j12-1.7.30.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/slf4j-api-1.7.30.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/simpleclient_servlet-0.9.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/simpleclient_hotspot-0.9.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/simpleclient_common-0.9.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/simpleclient-0.9.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-transport-native-unix-common-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-transport-native-epoll-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-transport-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-resolver-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-handler-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-common-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-codec-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/netty-buffer-4.1.59.Final.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/metrics-core-4.1.12.1.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/log4j-1.2.17.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jline-2.14.6.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-util-ajax-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-util-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-servlet-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-server-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-security-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-io-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jetty-http-9.4.38.v20210224.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/javax.servlet-api-3.1.0.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jackson-databind-2.10.5.1.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jackson-core-2.10.5.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/jackson-annotations-2.10.5.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/commons-cli-1.4.jar:/apache-zookeeper-3.7.0-bin/bin/../lib/audience-annotations-0.12.0.jar:/apache-zookeeper-3.7.0-bin/bin/../zookeeper-*.jar:/apache-zookeeper-3.7.0-bin/bin/../zookeeper-server/src/main/resources/lib/*.jar:/data/conf:
2023-11-02 16:08:53,620 [myid:3] - INFO  [main:Environment@98] - Server environment:java.library.path=/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib
2023-11-02 16:08:53,620 [myid:3] - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=/tmp
2023-11-02 16:08:53,620 [myid:3] - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:os.name=Linux
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:os.arch=amd64
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:os.version=5.4.0-164-generic
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:user.name=root
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:user.home=/root
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:user.dir=/apache-zookeeper-3.7.0-bin
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:os.memory.free=876MB
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:os.memory.max=966MB
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:Environment@98] - Server environment:os.memory.total=966MB
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:ZooKeeperServer@138] - zookeeper.enableEagerACLCheck = false
2023-11-02 16:08:53,621 [myid:3] - INFO  [main:ZooKeeperServer@142] - zookeeper.skipACL=="yes", ACL checks will be skipped
2023-11-02 16:08:53,622 [myid:3] - INFO  [main:ZooKeeperServer@151] - zookeeper.digest.enabled = true
2023-11-02 16:08:53,622 [myid:3] - INFO  [main:ZooKeeperServer@155] - zookeeper.closeSessionTxn.enabled = true
2023-11-02 16:08:53,622 [myid:3] - INFO  [main:ZooKeeperServer@1499] - zookeeper.flushDelay=0
2023-11-02 16:08:53,622 [myid:3] - INFO  [main:ZooKeeperServer@1508] - zookeeper.maxWriteQueuePollTime=0
2023-11-02 16:08:53,622 [myid:3] - INFO  [main:ZooKeeperServer@1517] - zookeeper.maxBatchSize=1000
2023-11-02 16:08:53,622 [myid:3] - INFO  [main:ZooKeeperServer@260] - zookeeper.intBufferStartingSizeBytes = 1024
2023-11-02 16:08:53,626 [myid:3] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2023-11-02 16:08:53,626 [myid:3] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2023-11-02 16:08:53,627 [myid:3] - INFO  [main:ZKDatabase@133] - zookeeper.snapshotSizeFactor = 0.33
2023-11-02 16:08:53,627 [myid:3] - INFO  [main:ZKDatabase@153] - zookeeper.commitLogCount=500
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@2063] - Using insecure (non-TLS) quorum communication
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@2069] - Port unification disabled
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@179] - multiAddress.enabled set to false
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@204] - multiAddress.reachabilityCheckEnabled set to true
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@191] - multiAddress.reachabilityCheckTimeoutMs set to 1000
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@2524] - QuorumPeer communication is not secured! (SASL auth disabled)
2023-11-02 16:08:53,633 [myid:3] - INFO  [main:QuorumPeer@2549] - quorum.cnxn.threads.size set to 20
2023-11-02 16:08:53,637 [myid:3] - INFO  [main:SnapStream@61] - zookeeper.snapshot.compression.method = CHECKED
2023-11-02 16:08:53,637 [myid:3] - INFO  [main:FileTxnSnapLog@479] - Snapshotting: 0x0 to /data/version-2/snapshot.0
2023-11-02 16:08:53,639 [myid:3] - INFO  [main:ZKDatabase@290] - Snapshot loaded in 6 ms, highest zxid is 0x0, digest is 1371985504
2023-11-02 16:08:53,640 [myid:3] - INFO  [main:QuorumPeer@1157] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2023-11-02 16:08:53,641 [myid:3] - INFO  [main:QuorumPeer@1177] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2023-11-02 16:08:53,667 [myid:3] - INFO  [main:Server@375] - jetty-9.4.38.v20210224; built: 2021-02-24T20:25:07.675Z; git: 288f3cc74549e8a913bf363250b0744f2695b8e6; jvm 11.0.15+10
2023-11-02 16:08:53,679 [myid:3] - INFO  [main:DefaultSessionIdManager@334] - DefaultSessionIdManager workerName=node0
2023-11-02 16:08:53,679 [myid:3] - INFO  [main:DefaultSessionIdManager@339] - No SessionScavenger set, using defaults
2023-11-02 16:08:53,681 [myid:3] - INFO  [main:HouseKeeper@132] - node0 Scavenging every 600000ms
2023-11-02 16:08:53,685 [myid:3] - WARN  [main:ConstraintSecurityHandler@759] - ServletContext@o.e.j.s.ServletContextHandler@e350b40{/,null,STARTING} has uncovered http methods for path: /*
2023-11-02 16:08:53,685 [myid:3] - INFO  [main:ContextHandler@916] - Started o.e.j.s.ServletContextHandler@e350b40{/,null,AVAILABLE}
2023-11-02 16:08:53,686 [myid:3] - INFO  [main:AbstractConnector@331] - Started ServerConnector@942a29c{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2023-11-02 16:08:53,687 [myid:3] - INFO  [main:Server@415] - Started @731ms
2023-11-02 16:08:53,687 [myid:3] - INFO  [main:JettyAdminServer@181] - Started AdminServer on address 0.0.0.0, port 8080 and command URL /commands
2023-11-02 16:08:53,687 [myid:3] - INFO  [main:QuorumPeer@2566] - Using 4000ms as the quorum cnxn socket timeout
2023-11-02 16:08:53,691 [myid:3] - INFO  [main:QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2023-11-02 16:08:53,692 [myid:3] - INFO  [main:FastLeaderElection@89] - zookeeper.fastleader.minNotificationInterval=200
2023-11-02 16:08:53,692 [myid:3] - INFO  [main:FastLeaderElection@91] - zookeeper.fastleader.maxNotificationInterval=60000
2023-11-02 16:08:53,696 [myid:3] - INFO  [ListenerHandler-test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local/10.244.2.4:3888:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local/10.244.2.4:3888
2023-11-02 16:08:53,697 [myid:3] - INFO  [main:ZKAuditProvider@42] - ZooKeeper audit is disabled.
2023-11-02 16:08:53,702 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:08:53,703 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x8000000000000000
2023-11-02 16:08:53,723 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@308] - 3 Received version: 100000023 my version: 0
2023-11-02 16:08:53,729 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LEADING, n.leader:1, n.round:0x0, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:08:53,729 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:FOLLOWING, n.leader:1, n.round:0x0, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:08:53,730 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: observing
2023-11-02 16:08:53,730 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1493] - OBSERVING
2023-11-02 16:08:53,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@127] - leaderConnectDelayDuringRetryMs: 100
2023-11-02 16:08:53,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@128] - TCP NoDelay set to: true
2023-11-02 16:08:53,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@129] - learner.asyncSending = false
2023-11-02 16:08:53,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@130] - learner.closeSocketAsync = false
2023-11-02 16:08:53,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@73] - zookeeper.observer.reconnectDelayMs = 0
2023-11-02 16:08:53,734 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@75] - zookeeper.observer.election.DelayMs = 200
2023-11-02 16:08:53,735 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):BlueThrottle@141] - Weighed connection throttling is disabled
2023-11-02 16:08:53,736 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:08:53,736 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:08:53,737 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:08:53,737 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:08:53,738 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:08:53,739 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:08:53,739 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:08:53,739 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:08:53,739 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:08:53,739 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:08:53,740 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:08:53,740 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:08:53,741 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:08:53,741 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:08:53,741 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:08:53,741 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2023-11-02 16:08:53,745 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - discovery
2023-11-02 16:08:53,745 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@164] - Observing new leader sid=1 addr=test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
2023-11-02 16:08:53,749 [myid:3] - INFO  [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
2023-11-02 16:08:53,753 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - synchronization
2023-11-02 16:08:53,755 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization - snap
2023-11-02 16:08:53,755 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@573] - Getting a snapshot from leader 0x100000023
2023-11-02 16:08:53,755 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2023-11-02 16:08:53,755 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2023-11-02 16:08:53,758 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:08:53,759 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FileTxnSnapLog@479] - Snapshotting: 0x100000023 to /data/version-2/snapshot.100000023
2023-11-02 16:08:53,760 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@543] - Snapshot taken in 0 ms
2023-11-02 16:08:53,760 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization
2023-11-02 16:08:53,764 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:08:53,764 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:08:53,766 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@75] - zookeeper.request_throttler.shutdownTimeout = 10000
2023-11-02 16:08:53,776 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:08:53,777 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - broadcast
2023-11-02 16:08:56,942 [myid:3] - INFO  [SyncThread:3:FileTxnLog@284] - Creating new log file: log.100000024
2023-11-02 16:09:11,662 [myid:3] - INFO  [NIOWorkerThread-1:FourLetterCommands@223] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, -720899=telnet close, 1751217000=hash, 2003003507=wchs, 2003003504=wchp, 1684632179=dirs, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2023-11-02 16:09:11,662 [myid:3] - INFO  [NIOWorkerThread-1:FourLetterCommands@224] - The list of enabled four letter word commands is : [[stat, envi, conf, ruok, mntr, srvr, crst, cons]]
2023-11-02 16:09:11,662 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:54278
2023-11-02 16:09:11,797 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:54290
2023-11-02 16:09:14,197 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@128] - Exception when observing the leader
java.io.EOFException
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:124)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1495)
2023-11-02 16:09:14,199 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@140] - Disconnected from leader (with address: test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888). Was connected for 20449ms. Sync state: true
2023-11-02 16:09:14,199 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@245] - shutdown Observer
2023-11-02 16:09:14,199 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:09:14,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:09:14,200 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:09:14,200 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:09:14,200 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverRequestProcessor@161] - Shutting down
2023-11-02 16:09:14,201 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:09:14,201 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@129] - ObserverRequestProcessor exited loop!
2023-11-02 16:09:14,201 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:09:14,201 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:09:14,202 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:09:14,202 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:09:14,203 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@260] - Waiting for 113 ms before reconnecting with the leader
2023-11-02 16:09:14,316 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:09:14,316 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x8000000000000000
2023-11-02 16:09:14,320 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:14,321 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:14,325 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:14,325 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:14,526 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: observing
2023-11-02 16:09:14,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1493] - OBSERVING
2023-11-02 16:09:14,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:09:14,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:09:14,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:09:14,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:09:14,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:09:14,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:09:14,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:09:14,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:09:14,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:09:14,528 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:09:14,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:09:14,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:09:14,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:09:14,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:09:14,529 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:09:14,530 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2023-11-02 16:09:14,530 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - discovery
2023-11-02 16:09:14,531 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@164] - Observing new leader sid=1 addr=test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
2023-11-02 16:09:14,534 [myid:3] - WARN  [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=0, remaining init limit=20000, connecting to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:09:14,635 [myid:3] - WARN  [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=1, remaining init limit=19898, connecting to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:09:14,737 [myid:3] - WARN  [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=2, remaining init limit=19797, connecting to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:09:21,483 [myid:3] - WARN  [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=3, remaining init limit=13051, connecting to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:09:21,574 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44658
2023-11-02 16:09:21,584 [myid:3] - ERROR [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@437] - Unexpected exception, retries exceeded. tries=4, remaining init limit=12949, connecting to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:09:21,585 [myid:3] - ERROR [LeaderConnector-test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888:Learner$LeaderConnector@389] - Failed connect to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:09:21,586 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@128] - Exception when observing the leader
java.io.IOException: Failed connect to test-cluster-0.test-cluster-headless.zookeeper.svc.cluster.local/10.244.1.4:2888
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:345)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:110)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1495)
2023-11-02 16:09:21,587 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@245] - shutdown Observer
2023-11-02 16:09:21,587 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:09:21,587 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:09:21,587 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@260] - Waiting for 111 ms before reconnecting with the leader
2023-11-02 16:09:23,893 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:09:23,894 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x8000000000000000
2023-11-02 16:09:23,925 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:26,156 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 400
2023-11-02 16:09:26,178 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:26,258 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:1, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:26,259 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:26,259 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: observing
2023-11-02 16:09:26,259 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1493] - OBSERVING
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:09:26,260 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:09:26,261 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:09:26,261 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:09:26,261 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:09:26,261 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:09:26,261 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:09:26,261 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2023-11-02 16:09:26,262 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - discovery
2023-11-02 16:09:26,263 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@164] - Observing new leader sid=2 addr=test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:09:26,283 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:09:26,310 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - synchronization
2023-11-02 16:09:26,315 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x100000024
2023-11-02 16:09:26,315 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization - diff
2023-11-02 16:09:26,316 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:09:26,317 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization
2023-11-02 16:09:26,318 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:09:26,318 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:09:26,366 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:09:26,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - broadcast
2023-11-02 16:09:33,090 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@128] - Exception when observing the leader
java.io.EOFException
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:124)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1495)
2023-11-02 16:09:46,520 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@140] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 20235ms. Sync state: true
2023-11-02 16:09:46,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@245] - shutdown Observer
2023-11-02 16:09:46,522 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:09:46,533 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:09:46,539 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:09:46,548 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:09:46,548 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverRequestProcessor@161] - Shutting down
2023-11-02 16:09:46,548 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@129] - ObserverRequestProcessor exited loop!
2023-11-02 16:09:46,549 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:09:51,388 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:09:51,390 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:09:51,390 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:09:51,390 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@260] - Waiting for 166 ms before reconnecting with the leader
2023-11-02 16:09:51,390 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:09:53,767 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:09:53,773 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x8000000000000000
2023-11-02 16:09:53,780 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:56,016 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 400
2023-11-02 16:09:56,016 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:56,017 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:56,017 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:56,022 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x2, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:56,023 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x100000024, message format version:0x2, n.config version:0x100000023
2023-11-02 16:09:58,376 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: observing
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1493] - OBSERVING
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:09:58,377 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:09:58,378 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:09:58,378 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:10:03,007 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:10:03,008 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:10:03,008 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:10:03,008 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:10:03,009 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:10:03,009 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2023-11-02 16:10:03,009 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:45718
2023-11-02 16:10:03,010 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - discovery
2023-11-02 16:10:03,010 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@164] - Observing new leader sid=2 addr=test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:10:03,012 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:10:03,015 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - synchronization
2023-11-02 16:10:03,144 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x200000002
2023-11-02 16:10:03,144 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization - diff
2023-11-02 16:10:03,148 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@634] - Got zxid 0x200000001 expected 0x1
2023-11-02 16:10:03,149 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:10:03,149 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization
2023-11-02 16:10:03,151 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:10:03,151 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:10:03,157 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:10:03,158 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - broadcast
2023-11-02 16:10:03,159 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2001fd121f30000
2023-11-02 16:10:03,280 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd1b1140000
2023-11-02 16:10:07,817 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@128] - Exception when observing the leader
java.io.EOFException
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:124)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1495)
2023-11-02 16:10:07,818 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@140] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 4804ms. Sync state: true
2023-11-02 16:10:07,818 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@245] - shutdown Observer
2023-11-02 16:10:07,818 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:10:07,818 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:10:07,818 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:10:07,818 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:10:07,819 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverRequestProcessor@161] - Shutting down
2023-11-02 16:10:07,819 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:10:07,819 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@129] - ObserverRequestProcessor exited loop!
2023-11-02 16:10:07,820 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:10:07,820 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:10:07,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:10:07,825 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:10:07,825 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@260] - Waiting for 63 ms before reconnecting with the leader
2023-11-02 16:10:07,888 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:10:07,889 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x8000000000000000
2023-11-02 16:10:07,892 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000002, message format version:0x2, n.config version:0x100000023
2023-11-02 16:10:07,893 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000002, message format version:0x2, n.config version:0x100000023
2023-11-02 16:10:07,896 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000002, message format version:0x2, n.config version:0x100000023
2023-11-02 16:10:07,896 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x3, n.zxid:0x200000002, message format version:0x2, n.config version:0x100000023
2023-11-02 16:10:10,176 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: observing
2023-11-02 16:10:10,176 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1493] - OBSERVING
2023-11-02 16:10:10,176 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:10:10,176 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:10:10,177 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:10:14,883 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:10:14,883 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:10:14,883 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:10:14,883 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:10:14,883 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:10:14,883 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverZooKeeperServer@55] - syncEnabled =true
2023-11-02 16:10:14,884 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - discovery
2023-11-02 16:10:14,884 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@164] - Observing new leader sid=2 addr=test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:10:14,885 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:10:15,076 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - synchronization
2023-11-02 16:10:15,077 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x300000001
2023-11-02 16:10:15,077 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization - diff
2023-11-02 16:10:15,079 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:10:15,080 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: observing - synchronization
2023-11-02 16:10:15,081 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:10:15,081 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:10:15,102 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:10:15,103 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: observing - broadcast
2023-11-02 16:10:15,105 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd1e0500000
2023-11-02 16:10:15,370 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd1e0500001
2023-11-02 16:10:15,395 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2023-11-02 16:10:15,395 [myid:3] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2023-11-02 16:10:15,397 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(Unknown Source)
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(Unknown Source)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2023-11-02 16:10:15,397 [myid:3] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 2 my id = 3
2023-11-02 16:10:15,551 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1397] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1385)
2023-11-02 16:10:15,552 [myid:3] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1403] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2023-11-02 16:10:15,553 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1283] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(Unknown Source)
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(Unknown Source)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1448)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1272)
2023-11-02 16:10:15,553 [myid:3] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1295] - Send worker leaving thread id 1 my id = 3
2023-11-02 16:10:15,553 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1834] - Restarting Leader Election
2023-11-02 16:10:15,555 [myid:3] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@980] - Leaving listener
2023-11-02 16:10:15,555 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@2566] - Using 4000ms as the quorum cnxn socket timeout
2023-11-02 16:10:15,556 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumCnxManager$Listener@924] - Election port bind maximum retries is 3
2023-11-02 16:10:15,556 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1336] - Clobbering already-set QuorumCnxManager (restarting leader election?)
2023-11-02 16:10:15,556 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@2421] - Becoming a non-voting participant
2023-11-02 16:10:15,556 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@128] - Exception when observing the leader
java.lang.Exception: changes proposed in reconfig
	at org.apache.zookeeper.server.quorum.Observer.processPacket(Observer.java:232)
	at org.apache.zookeeper.server.quorum.Observer.observeLeader(Observer.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1495)
2023-11-02 16:10:15,557 [myid:3] - INFO  [ListenerHandler-test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local/10.244.2.4:3888:QuorumCnxManager$Listener$ListenerHandler@1066] - 3 is accepting connections now, my election bind port: test-cluster-2.test-cluster-headless.zookeeper.svc.cluster.local/10.244.2.4:3888
2023-11-02 16:10:15,557 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@140] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 671ms. Sync state: true
2023-11-02 16:10:15,557 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@245] - shutdown Observer
2023-11-02 16:10:15,557 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:10:15,558 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:10:15,558 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:10:15,558 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:10:15,558 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ObserverRequestProcessor@161] - Shutting down
2023-11-02 16:10:15,558 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:10:15,570 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:10:15,571 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: following - broadcast
2023-11-02 16:10:15,571 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Observer@260] - Waiting for 64 ms before reconnecting with the leader
2023-11-02 16:10:15,571 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:10:15,578 [myid:3] - INFO  [ObserverRequestProcessor:3:ObserverRequestProcessor@129] - ObserverRequestProcessor exited loop!
2023-11-02 16:10:17,842 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2023-11-02 16:10:17,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:10:17,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:10:17,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:10:17,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:10:17,845 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:10:17,846 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:10:17,846 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:10:17,846 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:10:17,846 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:10:17,846 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:10:20,060 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@472] - WorkerReceiver is down
2023-11-02 16:10:20,061 [myid:3] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@506] - WorkerSender is down
2023-11-02 16:10:24,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:10:24,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:10:24,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:10:24,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:10:24,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:10:24,524 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 16635 MS
2023-11-02 16:10:24,530 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2023-11-02 16:10:31,441 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:10:31,444 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2023-11-02 16:10:31,446 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x500000005
2023-11-02 16:10:31,446 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2023-11-02 16:10:31,447 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@634] - Got zxid 0x400000004 expected 0x1
2023-11-02 16:10:31,447 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@634] - Got zxid 0x500000001 expected 0x400000005
2023-11-02 16:10:31,447 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:10:31,449 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2023-11-02 16:10:31,748 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:10:31,749 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:10:31,749 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43304
2023-11-02 16:10:31,750 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2023-11-02 16:10:31,926 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:10:31,928 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2023-11-02 16:10:31,931 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd21f9c0000
2023-11-02 16:10:31,931 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd21f9c0001
2023-11-02 16:10:32,065 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43340
2023-11-02 16:10:32,743 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43460
2023-11-02 16:10:32,871 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43490
2023-11-02 16:10:33,077 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43612
2023-11-02 16:10:41,320 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:35136
2023-11-02 16:10:41,341 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:35138
2023-11-02 16:10:42,936 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@172] - Got zxid 0x500000006 expected 0x1
2023-11-02 16:10:51,317 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:53918
2023-11-02 16:10:51,337 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:53920
2023-11-02 16:11:01,302 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57486
2023-11-02 16:11:01,323 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57494
2023-11-02 16:11:19,434 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@131] - Exception when following the leader
java.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.io.BufferedInputStream.fill(Unknown Source)
	at java.base/java.io.BufferedInputStream.read(Unknown Source)
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:127)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1514)
2023-11-02 16:11:19,436 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@145] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 47993ms. Sync state: true
2023-11-02 16:11:19,436 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@289] - shutdown Follower
2023-11-02 16:11:19,436 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:11:19,443 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:11:19,444 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:11:19,444 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:11:21,675 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2023-11-02 16:11:21,675 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:11:21,685 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:11:21,675 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2023-11-02 16:11:21,687 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:11:21,688 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:11:21,688 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:11:21,688 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:11:21,688 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x500000007
2023-11-02 16:11:21,761 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:21,766 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:24,093 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 400
2023-11-02 16:11:26,309 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 800
2023-11-02 16:11:28,539 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 1600
2023-11-02 16:11:28,544 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:32,984 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 3200
2023-11-02 16:11:32,997 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:33,388 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:33,388 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:33,389 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:33,389 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:33,390 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x5, n.zxid:0x400000004, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:34,778 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:36532
2023-11-02 16:11:35,243 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:36596
2023-11-02 16:11:35,362 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:36664
2023-11-02 16:11:35,448 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:36700
2023-11-02 16:11:36,591 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 6400
2023-11-02 16:11:36,593 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x2, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:36,594 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:11:36,594 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:11:36,595 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:11:36,596 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 14908 MS
2023-11-02 16:11:36,597 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2023-11-02 16:11:36,599 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:11:36,601 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2023-11-02 16:11:36,603 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x600000001
2023-11-02 16:11:36,603 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2023-11-02 16:11:36,604 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@634] - Got zxid 0x600000001 expected 0x1
2023-11-02 16:11:36,604 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:11:36,604 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2023-11-02 16:11:36,605 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:11:36,605 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:11:36,605 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2023-11-02 16:11:36,607 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:11:36,608 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2023-11-02 16:11:36,608 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd312a80000
2023-11-02 16:11:41,321 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:40840
2023-11-02 16:11:41,357 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:40848
2023-11-02 16:11:43,361 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@172] - Got zxid 0x600000002 expected 0x1
2023-11-02 16:11:43,362 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2001fd312ae0000
2023-11-02 16:11:43,374 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2001fd312ae0001
2023-11-02 16:11:51,365 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:52028
2023-11-02 16:11:51,381 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:52036
2023-11-02 16:11:55,368 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:52060
2023-11-02 16:12:01,322 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:54400
2023-11-02 16:12:01,348 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:54408
2023-11-02 16:12:13,939 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@131] - Exception when following the leader
java.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.io.BufferedInputStream.fill(Unknown Source)
	at java.base/java.io.BufferedInputStream.read(Unknown Source)
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:127)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1514)
2023-11-02 16:12:13,940 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@145] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 37341ms. Sync state: true
2023-11-02 16:12:13,940 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@289] - shutdown Follower
2023-11-02 16:12:13,940 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:12:13,940 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:12:13,941 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:12:13,941 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:12:13,941 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2023-11-02 16:12:13,941 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2023-11-02 16:12:13,941 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:12:13,941 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:12:13,942 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:12:13,943 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:12:13,943 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:12:13,943 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:12:13,944 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x600000007
2023-11-02 16:12:13,992 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:13,993 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:14,043 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:58918
2023-11-02 16:12:14,069 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:58956
2023-11-02 16:12:14,194 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 400
2023-11-02 16:12:14,196 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:14,197 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:14,598 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 800
2023-11-02 16:12:14,600 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:14,601 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:17,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 1600
2023-11-02 16:12:17,336 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:17,340 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:19,687 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 3200
2023-11-02 16:12:21,950 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x3, n.peerEpoch:0x6, n.zxid:0x500000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:12:21,951 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:12:21,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:12:21,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:12:21,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:12:21,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:12:21,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:12:21,952 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 8009 MS
2023-11-02 16:12:21,953 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2023-11-02 16:12:21,954 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:12:22,009 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:FOLLOWING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x6, n.zxid:0x600000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:22,087 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2023-11-02 16:12:22,089 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x600000007
2023-11-02 16:12:22,089 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2023-11-02 16:12:22,090 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:12:22,091 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2023-11-02 16:12:22,092 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:12:22,092 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:12:22,092 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2023-11-02 16:12:22,108 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:12:22,108 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2023-11-02 16:12:26,558 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@131] - Exception when following the leader
java.net.SocketException: Connection reset
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.io.BufferedInputStream.fill(Unknown Source)
	at java.base/java.io.BufferedInputStream.read(Unknown Source)
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:127)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1514)
2023-11-02 16:12:26,563 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@145] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 4600ms. Sync state: true
2023-11-02 16:12:26,563 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@289] - shutdown Follower
2023-11-02 16:12:26,563 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:12:26,563 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:12:26,564 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:12:26,564 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:12:26,564 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2023-11-02 16:12:26,564 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:12:26,564 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2023-11-02 16:12:26,566 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:12:26,578 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:12:26,580 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:12:26,580 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:12:26,580 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:12:26,580 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x600000007
2023-11-02 16:12:26,588 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x3, n.peerEpoch:0x7, n.zxid:0x600000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:26,616 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x3, n.peerEpoch:0x7, n.zxid:0x600000007, message format version:0x2, n.config version:0x400000003
2023-11-02 16:12:26,616 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2023-11-02 16:12:26,616 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2023-11-02 16:12:26,616 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:12:26,616 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:12:26,616 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:12:26,617 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 37 MS
2023-11-02 16:12:26,618 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2023-11-02 16:12:26,628 [myid:3] - WARN  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=0, remaining init limit=20000, connecting to test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:12:26,729 [myid:3] - WARN  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=1, remaining init limit=19899, connecting to test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:12:26,804 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:38696
2023-11-02 16:12:26,830 [myid:3] - WARN  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@445] - Unexpected exception, tries=2, remaining init limit=19798, connecting to test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
java.net.ConnectException: Connection refused (Connection refused)
	at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
	at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)
	at java.base/java.net.SocksSocketImpl.connect(Unknown Source)
	at java.base/java.net.Socket.connect(Unknown Source)
	at org.apache.zookeeper.server.quorum.Learner.sockConnect(Learner.java:302)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.connectToLeader(Learner.java:419)
	at org.apache.zookeeper.server.quorum.Learner$LeaderConnector.run(Learner.java:377)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.base/java.util.concurrent.FutureTask.run(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.base/java.lang.Thread.run(Unknown Source)
2023-11-02 16:12:26,931 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:12:26,961 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2023-11-02 16:12:27,099 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x600000007
2023-11-02 16:12:27,099 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2023-11-02 16:12:27,100 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:12:27,102 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2023-11-02 16:12:27,103 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:12:27,103 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:12:27,109 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2023-11-02 16:12:27,113 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:12:27,114 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2023-11-02 16:12:27,200 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:38780
2023-11-02 16:12:31,698 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:33838
2023-11-02 16:12:31,723 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:33860
2023-11-02 16:12:36,937 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@172] - Got zxid 0x800000001 expected 0x1
2023-11-02 16:12:41,327 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:33590
2023-11-02 16:12:41,350 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:33598
2023-11-02 16:12:43,508 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd3e3080000
2023-11-02 16:12:43,522 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2001fd3e3170000
2023-11-02 16:12:51,307 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:37152
2023-11-02 16:12:51,327 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:37154
2023-11-02 16:13:01,328 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57606
2023-11-02 16:13:01,353 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57610
2023-11-02 16:13:07,306 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57684
2023-11-02 16:13:11,326 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43078
2023-11-02 16:13:11,358 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:43082
2023-11-02 16:13:21,318 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:45570
2023-11-02 16:13:21,337 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:45584
2023-11-02 16:13:33,493 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@131] - Exception when following the leader
java.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.io.BufferedInputStream.fill(Unknown Source)
	at java.base/java.io.BufferedInputStream.read(Unknown Source)
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:127)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1514)
2023-11-02 16:13:33,513 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@145] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 66572ms. Sync state: true
2023-11-02 16:13:33,513 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@289] - shutdown Follower
2023-11-02 16:13:33,513 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:13:33,513 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:13:33,518 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:13:33,522 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:13:33,530 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2023-11-02 16:13:33,531 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:13:33,531 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2023-11-02 16:13:33,531 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:13:33,531 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:13:33,533 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:13:33,533 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:13:33,533 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:13:33,534 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x800000006
2023-11-02 16:13:33,580 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x5, n.peerEpoch:0x8, n.zxid:0x700000000, message format version:0x2, n.config version:0x400000003
2023-11-02 16:13:33,581 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x4, n.peerEpoch:0x8, n.zxid:0x700000000, message format version:0x2, n.config version:0x400000003
2023-11-02 16:13:33,585 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x5, n.peerEpoch:0x8, n.zxid:0x700000000, message format version:0x2, n.config version:0x400000003
2023-11-02 16:13:33,589 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x4, n.peerEpoch:0x8, n.zxid:0x700000000, message format version:0x2, n.config version:0x400000003
2023-11-02 16:13:33,616 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:33910
2023-11-02 16:13:40,513 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:37530
2023-11-02 16:13:40,519 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 400
2023-11-02 16:13:40,520 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x5, n.peerEpoch:0x9, n.zxid:0x800000006, message format version:0x2, n.config version:0x400000003
2023-11-02 16:13:40,521 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x5, n.peerEpoch:0x9, n.zxid:0x800000006, message format version:0x2, n.config version:0x400000003
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:13:40,521 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:13:40,522 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:13:40,522 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:13:40,522 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:13:40,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:13:40,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:13:40,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:13:40,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:13:40,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 6989 MS
2023-11-02 16:13:40,523 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2023-11-02 16:13:40,524 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:13:40,527 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2023-11-02 16:13:40,846 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x800000006
2023-11-02 16:13:40,847 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2023-11-02 16:13:40,847 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:13:40,944 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2023-11-02 16:13:40,945 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:13:40,945 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:13:40,945 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2023-11-02 16:13:40,948 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:13:40,948 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2023-11-02 16:13:41,540 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:37792
2023-11-02 16:13:41,780 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:37798
2023-11-02 16:13:43,650 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@172] - Got zxid 0x900000001 expected 0x1
2023-11-02 16:13:43,652 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2001fd502660000
2023-11-02 16:13:43,664 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd5025e0000
2023-11-02 16:13:51,319 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:35488
2023-11-02 16:13:51,352 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:35496
2023-11-02 16:14:01,316 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:55008
2023-11-02 16:14:01,340 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:55014
2023-11-02 16:14:11,309 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:49904
2023-11-02 16:14:11,338 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:49912
2023-11-02 16:14:21,309 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57106
2023-11-02 16:14:21,336 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:57108
2023-11-02 16:14:31,797 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@131] - Exception when following the leader
java.net.SocketTimeoutException: Read timed out
	at java.base/java.net.SocketInputStream.socketRead0(Native Method)
	at java.base/java.net.SocketInputStream.socketRead(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.net.SocketInputStream.read(Unknown Source)
	at java.base/java.io.BufferedInputStream.fill(Unknown Source)
	at java.base/java.io.BufferedInputStream.read(Unknown Source)
	at java.base/java.io.DataInputStream.readInt(Unknown Source)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:225)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:127)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1514)
2023-11-02 16:14:40,711 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@145] - Disconnected from leader (with address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888). Was connected for 60185ms. Sync state: true
2023-11-02 16:14:40,711 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@289] - shutdown Follower
2023-11-02 16:14:40,713 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@829] - shutting down
2023-11-02 16:14:40,713 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestThrottler@258] - Shutting down
2023-11-02 16:14:40,713 [myid:3] - INFO  [RequestThrottler:RequestThrottler@219] - Draining request throttler queue
2023-11-02 16:14:40,714 [myid:3] - INFO  [RequestThrottler:RequestThrottler@195] - RequestThrottler shutdown. Dropped 0 requests
2023-11-02 16:14:42,999 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@172] - Shutting down
2023-11-02 16:14:43,000 [myid:3] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@128] - FollowerRequestProcessor exited loop!
2023-11-02 16:14:43,000 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@632] - Shutting down
2023-11-02 16:14:43,000 [myid:3] - INFO  [CommitProcessor:3:CommitProcessor@420] - CommitProcessor exited loop!
2023-11-02 16:14:43,002 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FinalRequestProcessor@684] - shutdown of request processor complete
2023-11-02 16:14:43,006 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: looking
2023-11-02 16:14:43,011 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1560] - PeerState set to LOOKING
2023-11-02 16:14:43,011 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1430] - LOOKING
2023-11-02 16:14:43,012 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@945] - New election. My id = 3, proposed zxid=0x900000005
2023-11-02 16:14:43,072 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x6, n.peerEpoch:0x9, n.zxid:0x800000006, message format version:0x2, n.config version:0x400000003
2023-11-02 16:14:43,073 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x6, n.peerEpoch:0x9, n.zxid:0x800000006, message format version:0x2, n.config version:0x400000003
2023-11-02 16:14:43,204 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44084
2023-11-02 16:14:43,274 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FastLeaderElection@980] - Notification time out: 400
2023-11-02 16:14:43,276 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x6, n.peerEpoch:0x9, n.zxid:0x900000005, message format version:0x2, n.config version:0x400000003
2023-11-02 16:14:43,330 [myid:3] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@390] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x6, n.peerEpoch:0x9, n.zxid:0x900000005, message format version:0x2, n.config version:0x400000003
2023-11-02 16:14:43,330 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@901] - Peer state changed: following
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@1512] - FOLLOWING
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1300] - minSessionTimeout set to 4000
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1309] - maxSessionTimeout set to 40000
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getData response cache size is initialized with value 400.
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ResponseCache@45] - getChildren response cache size is initialized with value 400.
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@109] - zookeeper.pathStats.slotCapacity = 60
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@110] - zookeeper.pathStats.slotDuration = 15
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.maxDepth = 6
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.initialDelay = 5
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.delay = 5
2023-11-02 16:14:43,331 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.enabled = false
2023-11-02 16:14:43,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1536] - The max bytes for all large requests are set to 104857600
2023-11-02 16:14:43,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@1550] - The large request threshold is set to -1
2023-11-02 16:14:43,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@66] - zookeeper.enforce.auth.enabled = false
2023-11-02 16:14:43,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):AuthenticationHelper@67] - zookeeper.enforce.auth.schemes = []
2023-11-02 16:14:43,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):ZooKeeperServer@361] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /data/version-2 snapdir /data/version-2
2023-11-02 16:14:43,332 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@77] - FOLLOWING - LEADER ELECTION TOOK - 320 MS
2023-11-02 16:14:43,333 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - discovery
2023-11-02 16:14:43,334 [myid:3] - INFO  [LeaderConnector-test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888:Learner$LeaderConnector@381] - Successfully connected to leader, using address: test-cluster-1.test-cluster-headless.zookeeper.svc.cluster.local/10.244.3.3:2888
2023-11-02 16:14:43,340 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - synchronization
2023-11-02 16:14:43,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@562] - Getting a diff from the leader 0x900000005
2023-11-02 16:14:43,342 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization - diff
2023-11-02 16:14:43,343 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@734] - Learner received NEWLEADER message
2023-11-02 16:14:43,344 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@920] - Peer state changed: following - synchronization
2023-11-02 16:14:43,344 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@491] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2023-11-02 16:14:43,344 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):CommitProcessor@452] - Configuring CommitProcessor with 1 worker threads.
2023-11-02 16:14:43,344 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):FollowerRequestProcessor@59] - Initialized FollowerRequestProcessor with zookeeper.follower.skipLearnerRequestToNextProcessor as false
2023-11-02 16:14:43,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Learner@718] - Learner received UPTODATE message
2023-11-02 16:14:43,368 [myid:3] - INFO  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):QuorumPeer@915] - Peer state changed: following - broadcast
2023-11-02 16:14:43,703 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44100
2023-11-02 16:14:43,793 [myid:3] - WARN  [QuorumPeer[myid=3](plain=[0:0:0:0:0:0:0:0]:2181)(secure=disabled):Follower@172] - Got zxid 0xa00000001 expected 0x1
2023-11-02 16:14:43,831 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2001fd5f83f0000
2023-11-02 16:14:43,851 [myid:3] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x1001fd5f8360000
2023-11-02 16:14:43,919 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44142
2023-11-02 16:14:44,376 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44292
2023-11-02 16:14:52,054 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:55126
2023-11-02 16:14:52,094 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:55200
2023-11-02 16:15:01,322 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44264
2023-11-02 16:15:01,355 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:44280
2023-11-02 16:15:11,323 [myid:3] - INFO  [NIOWorkerThread-2:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:53796
2023-11-02 16:15:11,351 [myid:3] - INFO  [NIOWorkerThread-1:NIOServerCnxn@514] - Processing ruok command from /127.0.0.1:53802

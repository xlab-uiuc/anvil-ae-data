running zookeeper-controller in crash-testing mode
starting controller
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"757","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"2","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:00Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"767","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"3","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"779","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server failed with error: ApiError: services "test-cluster-admin-server" not found: NotFound (ErrorResponse { status: "Failure", message: "services \"test-cluster-admin-server\" not found", reason: "NotFound", code: 404 })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Create Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"4","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"780","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap failed with error: ApiError: configmaps "test-cluster-configmap" not found: NotFound (ErrorResponse { status: "Failure", message: "configmaps \"test-cluster-configmap\" not found", reason: "NotFound", code: 404 })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Create ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"5","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"785","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster failed with error: ApiError: statefulsets.apps "test-cluster" not found: NotFound (ErrorResponse { status: "Failure", message: "statefulsets.apps \"test-cluster\" not found", reason: "NotFound", code: 404 })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster failed with error: ApiError: statefulsets.apps "test-cluster" not found: NotFound (ErrorResponse { status: "Failure", message: "statefulsets.apps \"test-cluster\" not found", reason: "NotFound", code: 404 })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Create StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"6","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"787","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: UpdateStatus ZookeeperCluster/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"7","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"789","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: done
reconciled (ObjectRef { dyntype: (), name: "test-cluster", namespace: Some("zookeeper"), extra: Extra { resource_version: Some("757"), uid: Some("94736b08-116a-4728-bf37-612e741a1f4d") } }, Action { requeue_after: Some(60s) })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:02:02Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"791","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":0}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"8","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"795","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"9","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"803","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"10","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"804","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"11","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"805","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node failed
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"12","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:02Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"806","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: error
reconcile failed: reconciler for object ZookeeperCluster.v1.anvil.dev/test-cluster.zookeeper failed
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:02:02Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"791","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":0}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"13","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:04Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"820","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"14","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:14Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"863","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"15","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:14Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"864","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"16","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:14Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"865","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node failed
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"17","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:14Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"866","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: error
reconcile failed: reconciler for object ZookeeperCluster.v1.anvil.dev/test-cluster.zookeeper failed
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:02:02Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"791","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":0}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"18","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:16Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"869","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"19","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:26Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"887","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"20","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:26Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"888","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"21","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:26Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"889","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node failed
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"22","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:26Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"890","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: error
reconcile failed: reconciler for object ZookeeperCluster.v1.anvil.dev/test-cluster.zookeeper failed
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:02:02Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"791","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":0}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"23","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:28Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"894","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"24","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"954","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"25","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"956","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"26","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"957","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node successfully
The zk node does not exist
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"27","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"958","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Creating /zookeeper-operator  ...
Create zk node successfully
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"28","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"959","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Creating /zookeeper-operator/test-cluster CLUSTER_SIZE=3 ...
Create zk node successfully
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"29","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"960","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"30","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"961","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: UpdateStatus ZookeeperCluster/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"31","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"962","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: done
reconciled (ObjectRef { dyntype: (), name: "test-cluster", namespace: Some("zookeeper"), extra: Extra { resource_version: Some("791"), uid: Some("94736b08-116a-4728-bf37-612e741a1f4d") } }, Action { requeue_after: Some(60s) })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:02:39Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"964","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":1}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"32","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"965","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"33","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"966","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"34","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"967","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"35","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"968","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node successfully
The zk node exists and version is 0
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"36","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"970","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Setting /zookeeper-operator/test-cluster CLUSTER_SIZE=3 0 ...
Set zk node successfully
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"37","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"971","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"38","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"972","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: UpdateStatus ZookeeperCluster/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"39","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"973","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: done
reconciled (ObjectRef { dyntype: (), name: "test-cluster", namespace: Some("zookeeper"), extra: Extra { resource_version: Some("964"), uid: Some("94736b08-116a-4728-bf37-612e741a1f4d") } }, Action { requeue_after: Some(60s) })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:02:39Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"964","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":1}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"40","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:02:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"974","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"41","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1143","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"42","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1144","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"43","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1145","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node successfully
The zk node exists and version is 1
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"44","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1146","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Setting /zookeeper-operator/test-cluster CLUSTER_SIZE=3 1 ...
Set zk node successfully
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"45","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1147","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"46","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1149","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: UpdateStatus ZookeeperCluster/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"47","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1150","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: done
reconciled (ObjectRef { dyntype: (), name: "test-cluster", namespace: Some("zookeeper"), extra: Extra { resource_version: Some("964"), uid: Some("94736b08-116a-4728-bf37-612e741a1f4d") } }, Action { requeue_after: Some(60s) })
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get cr {"apiVersion":"anvil.dev/v1","kind":"ZookeeperCluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"anvil.dev/v1\",\"kind\":\"ZookeeperCluster\",\"metadata\":{\"annotations\":{},\"name\":\"test-cluster\",\"namespace\":\"zookeeper\"},\"spec\":{\"conf\":{\"autoPurgePurgeInterval\":1,\"autoPurgeSnapRetainCount\":3,\"commitLogCount\":500,\"globalOutstandingLimit\":1000,\"initLimit\":10,\"maxClientCnxns\":60,\"maxCnxns\":0,\"maxSessionTimeout\":40000,\"minSessionTimeout\":4000,\"preAllocSize\":65536,\"quorumListenOnAllIps\":false,\"snapCount\":10000,\"snapSizeLimitInKb\":4194304,\"syncLimit\":2,\"tickTime\":2000},\"image\":\"pravega/zookeeper:0.2.14\",\"persistence\":{\"enabled\":true,\"storageClassName\":\"standard\",\"storageSize\":\"20Gi\"},\"ports\":{\"adminServer\":8080,\"client\":2181,\"leaderElection\":3888,\"metrics\":7000,\"quorum\":2888},\"replicas\":3,\"tolerations\":[{\"effect\":\"NoExecute\",\"key\":\"test-key\",\"operator\":\"Equal\",\"tolerationSeconds\":3600,\"value\":\"test-value\"},{\"effect\":\"NoExecute\",\"key\":\"node-role.kubernetes.io/control-plane\",\"operator\":\"Exists\",\"tolerationSeconds\":3600}]}}\n"},"creationTimestamp":"2023-11-02T18:02:00Z","generation":1,"managedFields":[{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{".":{},"f:annotations":{},"f:conf":{".":{},"f:autoPurgePurgeInterval":{},"f:autoPurgeSnapRetainCount":{},"f:commitLogCount":{},"f:globalOutstandingLimit":{},"f:initLimit":{},"f:maxClientCnxns":{},"f:maxCnxns":{},"f:maxSessionTimeout":{},"f:minSessionTimeout":{},"f:preAllocSize":{},"f:quorumListenOnAllIps":{},"f:snapCount":{},"f:snapSizeLimitInKb":{},"f:syncLimit":{},"f:tickTime":{}},"f:image":{},"f:labels":{},"f:nodeSelector":{},"f:persistence":{".":{},"f:enabled":{},"f:storageClassName":{},"f:storageSize":{}},"f:ports":{".":{},"f:adminServer":{},"f:client":{},"f:leaderElection":{},"f:metrics":{},"f:quorum":{}},"f:replicas":{},"f:tolerations":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2023-11-02T18:02:00Z"},{"apiVersion":"anvil.dev/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:ready_replicas":{}}},"manager":"unknown","operation":"Update","subresource":"status","time":"2023-11-02T18:03:39Z"}],"name":"test-cluster","namespace":"zookeeper","resourceVersion":"1151","uid":"94736b08-116a-4728-bf37-612e741a1f4d"},"spec":{"replicas":3,"image":"pravega/zookeeper:0.2.14","ports":{"client":2181,"quorum":2888,"leaderElection":3888,"metrics":7000,"adminServer":8080},"conf":{"initLimit":10,"tickTime":2000,"syncLimit":2,"globalOutstandingLimit":1000,"preAllocSize":65536,"snapCount":10000,"commitLogCount":500,"snapSizeLimitInKb":4194304,"maxCnxns":0,"maxClientCnxns":60,"minSessionTimeout":4000,"maxSessionTimeout":40000,"autoPurgeSnapRetainCount":3,"autoPurgePurgeInterval":1,"quorumListenOnAllIps":false},"persistence":{"enabled":true,"storageSize":"20Gi","storageClassName":"standard"},"resources":null,"affinity":null,"tolerations":[{"effect":"NoExecute","key":"test-key","operator":"Equal","tolerationSeconds":3600,"value":"test-value"},{"effect":"NoExecute","key":"node-role.kubernetes.io/control-plane","operator":"Exists","tolerationSeconds":3600}],"node_selector":{},"labels":{},"annotations":{}},"status":{"ready_replicas":2}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-headless done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"48","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1152","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-client done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"49","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1153","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update Service/zookeeper/test-cluster-admin-server done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"50","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1154","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update ConfigMap/zookeeper/test-cluster-configmap done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"51","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1155","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Checking existence of /zookeeper-operator/test-cluster ...
Checking existence of zk node successfully
The zk node exists and version is 2
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"52","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1156","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Connecting to zk uri test-cluster-client.zookeeper.svc.cluster.local:2181 ...
Setting /zookeeper-operator/test-cluster CLUSTER_SIZE=3 2 ...
Set zk node successfully
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"53","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1157","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Update StatefulSet/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"54","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1158","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: UpdateStatus ZookeeperCluster/zookeeper/test-cluster done
Reconciling ZookeeperCluster/zookeeper/test-cluster: Get fault-injection-config: {"apiVersion":"v1","kind":"ConfigMap","data":{"cr_key":"ZookeeperCluster/zookeeper/test-cluster","current":"55","expected":"1"},"metadata":{"creationTimestamp":"2023-11-02T18:00:51Z","managedFields":[{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:cr_key":{},"f:expected":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2023-11-02T18:00:51Z"},{"apiVersion":"v1","fieldsType":"FieldsV1","fieldsV1":{"f:data":{"f:current":{}}},"manager":"unknown","operation":"Update","time":"2023-11-02T18:03:39Z"}],"name":"fault-injection-config","namespace":"default","resourceVersion":"1159","uid":"84fb3dd8-f2ba-400d-9e5b-72bf395b3a4b"}}
Reconciling ZookeeperCluster/zookeeper/test-cluster: done
reconciled (ObjectRef { dyntype: (), name: "test-cluster", namespace: Some("zookeeper"), extra: Extra { resource_version: Some("1151"), uid: Some("94736b08-116a-4728-bf37-612e741a1f4d") } }, Action { requeue_after: Some(60s) })

